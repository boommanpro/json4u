!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="877725d6-8e8d-436e-9e2a-57a0b3fcd5c9",e._sentryDebugIdIdentifier="sentry-dbid-877725d6-8e8d-436e-9e2a-57a0b3fcd5c9")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{31795:function(e,t,n){n.d(t,{Aq:function(){return tz},Bw:function(){return tT},CV:function(){return tD},HH:function(){return ek},Mw:function(){return tJ},Rr:function(){return tj},ZX:function(){return tW},_K:function(){return el},ll:function(){return tP},tV:function(){return tE},x$:function(){return tM}});var o,l,r=n(750),i=n(90978),a=n(79321),s=n(1466),d=n(66334),c=n(53869),u=n(8229);let g=(0,s.createContext)(null),f=g.Provider,p=a.Qj.error001();function v(e,t){let n=(0,s.useContext)(g);if(null===n)throw Error(p);return(0,d.s)(n,e,t)}function h(){let e=(0,s.useContext)(g);if(null===e)throw Error(p);return(0,s.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let m={display:"none"},y={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},b="react-flow__node-desc",w="react-flow__edge-desc",S=e=>e.ariaLiveMessage;function x(e){let{rfId:t}=e,n=v(S);return(0,r.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:y,children:n})}function C(e){let{rfId:t,disableKeyboardA11y:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"".concat(b,"-").concat(t),style:m,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,r.jsx)("div",{id:"".concat(w,"-").concat(t),style:m,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&(0,r.jsx)(x,{rfId:t})]})}let E=e=>e.userSelectionActive?"none":"all";function k(e){let{position:t="top-left",children:n,className:o,style:l,...a}=e,s=v(E),d="".concat(t).split("-");return(0,r.jsx)("div",{className:(0,i.Z)(["react-flow__panel",o,...d]),style:{...l,pointerEvents:s},...a,children:n})}function N(e){let{proOptions:t,position:n="bottom-right"}=e;return(null==t?void 0:t.hideAttribution)?null:(0,r.jsx)(k,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,r.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}let M=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},j=e=>e.id;function P(e,t){return(0,c.X)(e.selectedNodes.map(j),t.selectedNodes.map(j))&&(0,c.X)(e.selectedEdges.map(j),t.selectedEdges.map(j))}function D(e){let{onSelectionChange:t}=e,n=h(),{selectedNodes:o,selectedEdges:l}=v(M,P);return(0,s.useEffect)(()=>{let e={nodes:o,edges:l};null==t||t(e),n.getState().onSelectionChangeHandlers.forEach(t=>t(e))},[o,l,t]),null}let _=e=>!!e.onSelectionChangeHandlers;function I(e){let{onSelectionChange:t}=e,n=v(_);return t||n?(0,r.jsx)(D,{onSelectionChange:t}):null}let O=[0,0],R={x:0,y:0,zoom:1},A=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],z=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),L={translateExtent:a.k5,nodeOrigin:O,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function B(e){let{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:l,setTranslateExtent:r,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:d,setPaneClickDistance:u}=v(z,c.X),g=h();(0,s.useEffect)(()=>(d(e.defaultNodes,e.defaultEdges),()=>{f.current=L,a()}),[]);let f=(0,s.useRef)(L);return(0,s.useEffect)(()=>{for(let a of A){let s=e[a];s!==f.current[a]&&void 0!==e[a]&&("nodes"===a?t(s):"edges"===a?n(s):"minZoom"===a?o(s):"maxZoom"===a?l(s):"translateExtent"===a?r(s):"nodeExtent"===a?i(s):"paneClickDistance"===a?u(s):"fitView"===a?g.setState({fitViewOnInit:s}):"fitViewOptions"===a?g.setState({fitViewOnInitOptions:s}):g.setState({[a]:s}))}f.current=e},A.map(t=>e[t])),null}function V(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let Z="undefined"!=typeof document?document:null;function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:Z,actInsideInputWithModifier:!0},[n,o]=(0,s.useState)(!1),l=(0,s.useRef)(!1),r=(0,s.useRef)(new Set([])),[i,d]=(0,s.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,s.useEffect)(()=>{let n=(null==t?void 0:t.target)||Z;if(null!==e){let e=e=>{if(l.current=e.ctrlKey||e.metaKey||e.shiftKey,(!l.current||l.current&&!t.actInsideInputWithModifier)&&(0,a.s$)(e))return!1;let n=F(e.code,d);r.current.add(e[n]),T(i,r.current,!1)&&(e.preventDefault(),o(!0))},s=e=>{if((!l.current||l.current&&!t.actInsideInputWithModifier)&&(0,a.s$)(e))return!1;let n=F(e.code,d);T(i,r.current,!0)?(o(!1),r.current.clear()):r.current.delete(e[n]),"Meta"===e.key&&r.current.clear(),l.current=!1},c=()=>{r.current.clear(),o(!1)};return null==n||n.addEventListener("keydown",e),null==n||n.addEventListener("keyup",s),window.addEventListener("blur",c),window.addEventListener("contextmenu",c),()=>{null==n||n.removeEventListener("keydown",e),null==n||n.removeEventListener("keyup",s),window.removeEventListener("blur",c),window.removeEventListener("contextmenu",c)}}},[e,o]),n}function T(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function F(e,t){return t.includes(e)?"code":"key"}let X=()=>{let e=h();return(0,s.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:null==n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{var o,l,r;let{transform:[i,a,s],panZoom:d}=e.getState();return d?(await d.setViewport({x:null!==(o=t.x)&&void 0!==o?o:i,y:null!==(l=t.y)&&void 0!==l?l:a,zoom:null!==(r=t.zoom)&&void 0!==r?r:s},{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>{let{nodeLookup:n,width:o,height:l,minZoom:r,maxZoom:i,panZoom:s}=e.getState(),d=(0,a.J6)(n,t);return s?(0,a.Qu)({nodes:d,width:o,height:l,minZoom:r,maxZoom:i,panZoom:s},t):Promise.resolve(!1)},setCenter:async(t,n,o)=>{let{width:l,height:r,maxZoom:i,panZoom:a}=e.getState(),s=void 0!==(null==o?void 0:o.zoom)?o.zoom:i;return a?(await a.setViewport({x:l/2-t*s,y:r/2-n*s,zoom:s},{duration:null==o?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{var o;let{width:l,height:r,minZoom:i,maxZoom:s,panZoom:d}=e.getState(),c=(0,a.$i)(t,l,r,i,s,null!==(o=null==n?void 0:n.padding)&&void 0!==o?o:.1);return d?(await d.setViewport(c,{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{snapToGrid:!0},{transform:o,snapGrid:l,domNode:r}=e.getState();if(!r)return t;let{x:i,y:s}=r.getBoundingClientRect(),d={x:t.x-i,y:t.y-s};return(0,a.m)(d,o,n.snapToGrid,l)},flowToScreenPosition:t=>{let{transform:n,domNode:o}=e.getState();if(!o)return t;let{x:l,y:r}=o.getBoundingClientRect(),i=(0,a.oj)(t,n);return{x:i.x+l,y:i.y+r}}}),[])};function W(e,t){let n=[],o=new Map;for(let t of e){if("add"===t.type){n.push(t.item);continue}if("remove"===t.type||"replace"===t.type)o.set(t.id,[t]);else{let e=o.get(t.id);e?e.push(t):o.set(t.id,[t])}}for(let e of t){let t=o.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let l={...e};for(let e of t)!function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":if(void 0!==e.dimensions){var n;null!==(n=t.measured)&&void 0!==n||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)}"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}(e,l);n.push(l)}return n}function K(e,t){return{id:e,type:"select",selected:t}}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];for(let[l,r]of e){let e=t.has(l);(void 0!==r.selected||e)&&r.selected!==e&&(n&&(r.selected=e),o.push(K(r.id,e)))}return o}function Y(e){let{items:t=[],lookup:n}=e,o=[],l=new Map(t.map(e=>[e.id,e]));for(let e of t){var r,i;let t=n.get(e.id),l=null!==(i=null==t?void 0:null===(r=t.internals)||void 0===r?void 0:r.userNode)&&void 0!==i?i:t;void 0!==l&&l!==e&&o.push({id:e.id,item:e,type:"replace"}),void 0===l&&o.push({item:e,type:"add"})}for(let[e]of n)void 0===l.get(e)&&o.push({id:e,type:"remove"});return o}function U(e){return{id:e.id,type:"remove"}}let G=e=>(0,a.Vt)(e),J=e=>(0,a.J3)(e);function $(e){return(0,s.forwardRef)(e)}let q="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function ee(e){let[t,n]=(0,s.useState)(!1),[o]=(0,s.useState)(()=>{var e;let t;return e=()=>n(!0),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return q(()=>{if(!t){o.reset();return}let l=o.get();l.length&&(e(l),o.reset()),n(!1)},[t]),o}let et=(0,s.createContext)(null);function en(e){let{children:t}=e,n=h(),o=ee((0,s.useCallback)(e=>{let{nodes:t=[],setNodes:o,hasDefaultNodes:l,onNodesChange:r,nodeLookup:i}=n.getState(),a=t;for(let t of e)a="function"==typeof t?t(a):t;l?o(a):r&&r(Y({items:a,lookup:i}))},[])),l=ee((0,s.useCallback)(e=>{let{edges:t=[],setEdges:o,hasDefaultEdges:l,onEdgesChange:r,edgeLookup:i}=n.getState(),a=t;for(let t of e)a="function"==typeof t?t(a):t;l?o(a):r&&r(Y({items:a,lookup:i}))},[])),i=(0,s.useMemo)(()=>({nodeQueue:o,edgeQueue:l}),[]);return(0,r.jsx)(et.Provider,{value:i,children:t})}let eo=e=>!!e.panZoom;function el(){let e=X(),t=h(),n=function(){let e=(0,s.useContext)(et);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),o=v(eo),l=(0,s.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),o=e=>{n.nodeQueue.push(e)},l=e=>{n.edgeQueue.push(e)},r=e=>{var n,o,l,r;let{nodeLookup:i,nodeOrigin:s}=t.getState(),d=G(e)?e:i.get(e.id),c=d.parentId?(0,a.ZB)(d.position,d.measured,d.parentId,i,s):d.position,u={id:d.id,position:c,width:null!==(l=null===(n=d.measured)||void 0===n?void 0:n.width)&&void 0!==l?l:d.width,height:null!==(r=null===(o=d.measured)||void 0===o?void 0:o.height)&&void 0!==r?r:d.height,data:d.data};return(0,a.PS)(u)},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&G(e)?e:{...o,...e}}return o}))},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};l(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&J(e)?e:{...o,...e}}return o}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>{var n;return null===(n=e(t))||void 0===n?void 0:n.internals.userNode},getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:o,setEdges:l,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:o}=t.getState(),[l,r,i]=o;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:l,y:r,zoom:i}}},deleteElements:async e=>{let{nodes:n=[],edges:o=[]}=e,{nodes:l,edges:r,onNodesDelete:i,onEdgesDelete:s,triggerNodeChanges:d,triggerEdgeChanges:c,onDelete:u,onBeforeDelete:g}=t.getState(),{nodes:f,edges:p}=await (0,a.WD)({nodesToRemove:n,edgesToRemove:o,nodes:l,edges:r,onBeforeDelete:g}),v=p.length>0,h=f.length>0;if(v){let e=p.map(U);null==s||s(p),c(e)}if(h){let e=f.map(U);null==i||i(f),d(e)}return(h||v)&&(null==u||u({nodes:f,edges:p})),{deletedNodes:f,deletedEdges:p}},getIntersectingNodes:function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2?arguments[2]:void 0,l=(0,a.J$)(e),i=l?e:r(e),s=void 0!==o;return i?(o||t.getState().nodes).filter(o=>{let r=t.getState().nodeLookup.get(o.id);if(r&&!l&&(o.id===e.id||!r.internals.positionAbsolute))return!1;let d=(0,a.PS)(s?o:r),c=(0,a.lp)(d,i);return n&&c>0||c>=i.width*i.height}):[]},isNodeIntersecting:function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=(0,a.J$)(e)?e:r(e);if(!o)return!1;let l=(0,a.lp)(o,t);return n&&l>0||l>=o.width*o.height},updateNode:i,updateNodeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};i(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},updateEdge:s,updateEdgeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};s(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)}}},[]);return(0,s.useMemo)(()=>({...l,...e,viewportInitialized:o}),[o])}let er=e=>e.selected,ei={actInsideInputWithModifier:!1},ea="undefined"!=typeof window?window:void 0,es={position:"absolute",width:"100%",height:"100%",top:0,left:0},ed=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function ec(e){let{onPaneContextMenu:t,zoomOnScroll:n=!0,zoomOnPinch:o=!0,panOnScroll:l=!1,panOnScrollSpeed:i=.5,panOnScrollMode:d=a.IY.Free,zoomOnDoubleClick:u=!0,panOnDrag:g=!0,defaultViewport:f,translateExtent:p,minZoom:m,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:w=!0,children:S,noWheelClassName:x,noPanClassName:C,onViewportChange:E,isControlledViewport:k,paneClickDistance:N}=e,M=h(),j=(0,s.useRef)(null),{userSelectionActive:P,lib:D}=v(ed,c.X),_=H(b),I=(0,s.useRef)();return!function(e){let t=h();(0,s.useEffect)(()=>{let n=()=>{if(!e.current)return!1;let n=(0,a.t_)(e.current);if(0===n.height||0===n.width){var o,l;null===(o=(l=t.getState()).onError)||void 0===o||o.call(l,"004",a.Qj.error004())}t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);let t=new ResizeObserver(()=>n());return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}},[])}(j),(0,s.useEffect)(()=>{if(j.current){I.current=(0,a.X6)({domNode:j.current,minZoom:m,maxZoom:y,translateExtent:p,viewport:f,paneClickDistance:N,onTransformChange:e=>{null==E||E({x:e[0],y:e[1],zoom:e[2]}),k||M.setState({transform:e})},onDraggingChange:e=>M.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:o}=M.getState();null==o||o(e,t),null==n||n(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:o}=M.getState();null==o||o(e,t),null==n||n(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:o}=M.getState();null==o||o(e,t),null==n||n(t)}});let{x:e,y:t,zoom:n}=I.current.getViewport();return M.setState({panZoom:I.current,transform:[e,t,n],domNode:j.current.closest(".react-flow")}),()=>{var e;null===(e=I.current)||void 0===e||e.destroy()}}},[]),(0,s.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.update({onPaneContextMenu:t,zoomOnScroll:n,zoomOnPinch:o,panOnScroll:l,panOnScrollSpeed:i,panOnScrollMode:d,zoomOnDoubleClick:u,panOnDrag:g,zoomActivationKeyPressed:_,preventScrolling:w,noPanClassName:C,userSelectionActive:P,noWheelClassName:x,lib:D})},[t,n,o,l,i,d,u,g,_,w,C,P,x,D]),(0,r.jsx)("div",{className:"react-flow__renderer",ref:j,style:es,children:S})}let eu=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eg(){let{userSelectionActive:e,userSelectionRect:t}=v(eu,c.X);return e&&t?(0,r.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}let ef=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},ep=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function ev(e){let{isSelecting:t,selectionKeyPressed:n,selectionMode:o=a.oW.Full,panOnDrag:l,selectionOnDrag:d,onSelectionStart:u,onSelectionEnd:g,onPaneClick:f,onPaneContextMenu:p,onPaneScroll:m,onPaneMouseEnter:y,onPaneMouseMove:b,onPaneMouseLeave:w,children:S}=e,x=(0,s.useRef)(null),C=h(),E=(0,s.useRef)(0),k=(0,s.useRef)(0),N=(0,s.useRef)(),M=(0,s.useRef)(new Map),{userSelectionActive:j,elementsSelectable:P,dragging:D}=v(ep,c.X),_=P&&(t||j),I=(0,s.useRef)(!1),O=(0,s.useRef)(!1),R=()=>{C.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,k.current=0},A=e=>{if(I.current){I.current=!1;return}null==f||f(e),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},z=!0===l||Array.isArray(l)&&l.includes(0);return(0,r.jsxs)("div",{className:(0,i.Z)(["react-flow__pane",{draggable:z,dragging:D,selection:t}]),onClick:_?void 0:ef(A,x),onContextMenu:ef(e=>{if(Array.isArray(l)&&(null==l?void 0:l.includes(2))){e.preventDefault();return}null==p||p(e)},x),onWheel:ef(m?e=>m(e):void 0,x),onPointerEnter:_?void 0:y,onPointerDown:_?e=>{var n,o,l,r;let{resetSelectedElements:i,domNode:s,edgeLookup:d}=C.getState();if(N.current=null==s?void 0:s.getBoundingClientRect(),!P||!t||0!==e.button||e.target!==x.current||!N.current)return;for(let[t,i]of(null===(o=e.target)||void 0===o||null===(n=o.setPointerCapture)||void 0===n||n.call(o,e.pointerId),O.current=!0,I.current=!1,M.current=new Map,d))M.current.set(i.source,(null===(l=M.current.get(i.source))||void 0===l?void 0:l.add(t))||new Set([t])),M.current.set(i.target,(null===(r=M.current.get(i.target))||void 0===r?void 0:r.add(t))||new Set([t]));let{x:c,y:g}=(0,a.wv)(e.nativeEvent,N.current);i(),C.setState({userSelectionRect:{width:0,height:0,startX:c,startY:g,x:c,y:g}}),null==u||u(e)}:b,onPointerMove:_?e=>{let{userSelectionRect:t,edgeLookup:n,transform:l,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:s}=C.getState();if(!N.current||!t)return;I.current=!0;let{x:d,y:c}=(0,a.wv)(e.nativeEvent,N.current),{startX:u,startY:g}=t,f={startX:u,startY:g,x:d<u?d:u,y:c<g?c:g,width:Math.abs(d-u),height:Math.abs(c-g)},p=(0,a.f5)(r,f,l,o===a.oW.Partial,!0),v=new Set,h=new Set;for(let e of p){h.add(e.id);let t=M.current.get(e.id);if(t)for(let e of t)v.add(e)}E.current!==h.size&&(E.current=h.size,i(Q(r,h,!0))),k.current!==v.size&&(k.current=v.size,s(Q(n,v))),C.setState({userSelectionRect:f,userSelectionActive:!0,nodesSelectionActive:!1})}:b,onPointerUp:_?e=>{var t,o;if(0!==e.button||!O.current)return;null===(o=e.target)||void 0===o||null===(t=o.releasePointerCapture)||void 0===t||t.call(o,e.pointerId);let{userSelectionRect:l}=C.getState();!j&&l&&e.target===x.current&&(null==A||A(e)),E.current>0&&C.setState({nodesSelectionActive:!0}),R(),null==g||g(e),(n||d)&&(I.current=!1),O.current=!1}:void 0,onPointerLeave:w,ref:x,style:es,children:[S,(0,r.jsx)(eg,{})]})}function eh(e){let{id:t,store:n,unselect:o=!1,nodeRef:l}=e,{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:d,onError:c}=n.getState(),u=d.get(t);if(!u){null==c||c("012",a.Qj.error012(t));return}n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.blur()})):r([t])}function em(e){let{nodeRef:t,disabled:n=!1,noDragClassName:o,handleSelector:l,nodeId:r,isSelectable:i,nodeClickDistance:d}=e,c=h(),[u,g]=(0,s.useState)(!1),f=(0,s.useRef)();return(0,s.useEffect)(()=>{f.current=(0,a.oC)({getStoreItems:()=>c.getState(),onNodeMouseDown:e=>{eh({id:e,store:c,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),(0,s.useEffect)(()=>{var e,a;if(n)null===(e=f.current)||void 0===e||e.destroy();else if(t.current)return null===(a=f.current)||void 0===a||a.update({noDragClassName:o,handleSelector:l,domNode:t.current,isSelectable:i,nodeId:r,nodeClickDistance:d}),()=>{var e;null===(e=f.current)||void 0===e||e.destroy()}},[o,l,n,i,t,r]),u}let ey=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function eb(){let e=h();return(0,s.useCallback)(t=>{let{nodeExtent:n,snapToGrid:o,snapGrid:l,nodesDraggable:r,onError:i,updateNodePositions:s,nodeLookup:d,nodeOrigin:c}=e.getState(),u=new Map,g=ey(r),f=o?l[0]:5,p=o?l[1]:5,v=t.direction.x*f*t.factor,h=t.direction.y*p*t.factor;for(let[,e]of d){if(!g(e))continue;let t={x:e.internals.positionAbsolute.x+v,y:e.internals.positionAbsolute.y+h};o&&(t=(0,a._2)(t,l));let{position:r,positionAbsolute:s}=(0,a.q7)({nodeId:e.id,nextPosition:t,nodeLookup:d,nodeExtent:n,nodeOrigin:c,onError:i});e.position=r,e.internals.positionAbsolute=s,u.set(e.id,e)}s(u)},[])}let ew=(0,s.createContext)(null),eS=ew.Provider;ew.Consumer;let ex=()=>(0,s.useContext)(ew),eC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),eE=(e,t,n)=>o=>{let{connectionClickStartHandle:l,connectionMode:r,connection:i}=o,{fromHandle:s,toHandle:d,isValid:c}=i,u=(null==d?void 0:d.nodeId)===e&&(null==d?void 0:d.id)===t&&(null==d?void 0:d.type)===n;return{connectingFrom:(null==s?void 0:s.nodeId)===e&&(null==s?void 0:s.id)===t&&(null==s?void 0:s.type)===n,connectingTo:u,clickConnecting:(null==l?void 0:l.nodeId)===e&&(null==l?void 0:l.id)===t&&(null==l?void 0:l.type)===n,isPossibleEndHandle:r===a.jD.Strict?(null==s?void 0:s.type)!==n:e!==(null==s?void 0:s.nodeId)||t!==(null==s?void 0:s.id),connectionInProcess:!!s,valid:u&&c}},ek=(0,s.memo)($(function(e,t){let{type:n="source",position:o=a.Ly.Top,isValidConnection:l,isConnectable:s=!0,isConnectableStart:d=!0,isConnectableEnd:u=!0,id:g,onConnect:f,children:p,className:m,onMouseDown:y,onTouchStart:b,...w}=e,S=g||null,x="target"===n,C=h(),E=ex(),{connectOnClick:k,noPanClassName:N,rfId:M}=v(eC,c.X),{connectingFrom:j,connectingTo:P,clickConnecting:D,isPossibleEndHandle:_,connectionInProcess:I,valid:O}=v(eE(E,S,n),c.X);if(!E){var R,A;null===(R=(A=C.getState()).onError)||void 0===R||R.call(A,"010",a.Qj.error010())}let z=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=C.getState(),l={...t,...e};if(o){let{edges:e,setEdges:t}=C.getState();t((0,a.Z_)(l,e))}null==n||n(l),null==f||f(l)},L=e=>{if(!E)return;let t=(0,a.N5)(e.nativeEvent);if(d&&(t&&0===e.button||!t)){let t=C.getState();a.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:x,handleId:S,nodeId:E,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:z,isValidConnection:l||t.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?null==y||y(e):null==b||b(e)};return(0,r.jsx)("div",{"data-handleid":S,"data-nodeid":E,"data-handlepos":o,"data-id":"".concat(M,"-").concat(E,"-").concat(S,"-").concat(n),className:(0,i.Z)(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",N,m,{source:!x,target:x,connectable:s,connectablestart:d,connectableend:u,clickconnecting:D,connectingfrom:j,connectingto:P,valid:O,connectionindicator:s&&(!I||_)&&(I?u:d)}]),onMouseDown:L,onTouchStart:L,onClick:k?e=>{let{onClickConnectStart:t,onClickConnectEnd:o,connectionClickStartHandle:r,connectionMode:i,isValidConnection:s,lib:c,rfId:u,nodeLookup:g,connection:f}=C.getState();if(!E||!r&&!d)return;if(!r){null==t||t(e.nativeEvent,{nodeId:E,handleId:S,handleType:n}),C.setState({connectionClickStartHandle:{nodeId:E,type:n,id:S}});return}let p=(0,a.S2)(e.target),v=l||s,{connection:h,isValid:m}=a.Ql.isValid(e.nativeEvent,{handle:{nodeId:E,id:S,type:n},connectionMode:i,fromNodeId:r.nodeId,fromHandleId:r.id||null,fromType:r.type,isValidConnection:v,flowId:u,doc:p,lib:c,nodeLookup:g});m&&h&&z(h);let y=structuredClone(f);delete y.inProgress,y.toPosition=y.toHandle?y.toHandle.position:null,null==o||o(e,y),C.setState({connectionClickStartHandle:null})}:void 0,ref:t,...w,children:p})})),eN={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},eM={input:function(e){let{data:t,isConnectable:n,sourcePosition:o=a.Ly.Bottom}=e;return(0,r.jsxs)(r.Fragment,{children:[null==t?void 0:t.label,(0,r.jsx)(ek,{type:"source",position:o,isConnectable:n})]})},default:function(e){let{data:t,isConnectable:n,targetPosition:o=a.Ly.Top,sourcePosition:l=a.Ly.Bottom}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ek,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label,(0,r.jsx)(ek,{type:"source",position:l,isConnectable:n})]})},output:function(e){let{data:t,isConnectable:n,targetPosition:o=a.Ly.Top}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ek,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label]})},group:function(){return null}},ej=e=>{let{width:t,height:n,x:o,y:l}=(0,a.W0)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,a.kE)(t)?t:null,height:(0,a.kE)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(o,"px,").concat(l,"px)")}};function eP(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:o}=e,l=h(),{width:a,height:d,transformString:u,userSelectionActive:g}=v(ej,c.X),f=eb(),p=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if(!o){var e;null===(e=p.current)||void 0===e||e.focus({preventScroll:!0})}},[o]),em({nodeRef:p}),!g&&a&&d)?(0,r.jsx)("div",{className:(0,i.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u},children:(0,r.jsx)("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:t?e=>{t(e,l.getState().nodes.filter(e=>e.selected))}:void 0,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(eN,e.key)&&f({direction:eN[e.key],factor:e.shiftKey?4:1})},style:{width:a,height:d}})}):null}let eD="undefined"!=typeof window?window:void 0,e_=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eI(e){let{children:t,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:l,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:d,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:g,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:j,panOnDrag:P,defaultViewport:D,translateExtent:_,minZoom:I,maxZoom:O,preventScrolling:R,onSelectionContextMenu:A,noWheelClassName:z,noPanClassName:L,disableKeyboardA11y:B,onViewportChange:V,isControlledViewport:Z}=e,{nodesSelectionActive:T,userSelectionActive:F}=v(e_),X=H(g,{target:eD}),W=H(w,{target:eD}),K=W||P,Q=W||k,Y=f&&!0!==K,U=X||F||Y;return!function(e){let{deleteKeyCode:t,multiSelectionKeyCode:n}=e,o=h(),{deleteElements:l}=el(),r=H(t,ei),i=H(n,{target:ea});(0,s.useEffect)(()=>{if(r){let{edges:e,nodes:t}=o.getState();l({nodes:t.filter(er),edges:e.filter(er)}),o.setState({nodesSelectionActive:!1})}},[r]),(0,s.useEffect)(()=>{o.setState({multiSelectionActive:i})},[i])}({deleteKeyCode:u,multiSelectionKeyCode:b}),(0,r.jsx)(ec,{onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:Q,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:j,panOnDrag:!X&&K,defaultViewport:D,translateExtent:_,minZoom:I,maxZoom:O,zoomActivationKeyCode:S,preventScrolling:R,noWheelClassName:z,noPanClassName:L,onViewportChange:V,isControlledViewport:Z,paneClickDistance:c,children:(0,r.jsxs)(ev,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:l,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:d,panOnDrag:K,isSelecting:!!U,selectionMode:p,selectionKeyPressed:X,selectionOnDrag:Y,children:[t,T&&(0,r.jsx)(eP,{onSelectionContextMenu:A,noPanClassName:L,disableKeyboardA11y:B})]})})}eI.displayName="FlowRenderer";let eO=(0,s.memo)(eI),eR=e=>t=>e?(0,a.f5)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),eA=e=>e.updateNodeInternals;function ez(e){var t,n,o,l,d,u,g,f,p,m,y;let{id:w,onClick:S,onMouseEnter:x,onMouseMove:C,onMouseLeave:E,onContextMenu:k,onDoubleClick:N,nodesDraggable:M,elementsSelectable:j,nodesConnectable:P,nodesFocusable:D,resizeObserver:_,noDragClassName:I,noPanClassName:O,disableKeyboardA11y:R,rfId:A,nodeTypes:z,nodeExtent:L,nodeClickDistance:B,onError:V}=e,{node:Z,internals:H,isParent:T}=v(e=>{let t=e.nodeLookup.get(w),n=e.parentLookup.has(w);return{node:t,internals:t.internals,isParent:n}},c.X),F=Z.type||"default",X=(null==z?void 0:z[F])||eM[F];void 0===X&&(null==V||V("003",a.Qj.error003(F)),F="default",X=eM.default);let W=!!(Z.draggable||M&&void 0===Z.draggable),K=!!(Z.selectable||j&&void 0===Z.selectable),Q=!!(Z.connectable||P&&void 0===Z.connectable),Y=!!(Z.focusable||D&&void 0===Z.focusable),U=h(),G=(0,a.nb)(Z),J=function(e){let{node:t,nodeType:n,hasDimensions:o,resizeObserver:l}=e,r=h(),i=(0,s.useRef)(null),a=(0,s.useRef)(null),d=(0,s.useRef)(t.sourcePosition),c=(0,s.useRef)(t.targetPosition),u=(0,s.useRef)(n),g=o&&!!t.internals.handleBounds;return(0,s.useEffect)(()=>{!i.current||t.hidden||g&&a.current===i.current||(a.current&&(null==l||l.unobserve(a.current)),null==l||l.observe(i.current),a.current=i.current)},[g,t.hidden]),(0,s.useEffect)(()=>()=>{a.current&&(null==l||l.unobserve(a.current),a.current=null)},[]),(0,s.useEffect)(()=>{if(i.current){let e=u.current!==n,o=d.current!==t.sourcePosition,l=c.current!==t.targetPosition;(e||o||l)&&(u.current=n,d.current=t.sourcePosition,c.current=t.targetPosition,r.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:i.current,force:!0}]])))}},[t.id,n,t.sourcePosition,t.targetPosition]),i}({node:Z,nodeType:F,hasDimensions:G,resizeObserver:_}),$=em({nodeRef:J,disabled:Z.hidden||!W,noDragClassName:I,handleSelector:Z.dragHandle,nodeId:w,isSelectable:K,nodeClickDistance:B}),q=eb();if(Z.hidden)return null;let ee=(0,a.Rf)(Z),et=void 0===Z.internals.handleBounds?{width:null!==(g=null!==(u=Z.width)&&void 0!==u?u:Z.initialWidth)&&void 0!==g?g:null===(l=Z.style)||void 0===l?void 0:l.width,height:null!==(p=null!==(f=Z.height)&&void 0!==f?f:Z.initialHeight)&&void 0!==p?p:null===(d=Z.style)||void 0===d?void 0:d.height}:{width:null!==(m=Z.width)&&void 0!==m?m:null===(n=Z.style)||void 0===n?void 0:n.width,height:null!==(y=Z.height)&&void 0!==y?y:null===(o=Z.style)||void 0===o?void 0:o.height},en=L?(0,a.s9)(H.positionAbsolute,L):H.positionAbsolute,eo=K||W||S||x||C||E;return(0,r.jsx)("div",{className:(0,i.Z)(["react-flow__node","react-flow__node-".concat(F),{[O]:W},Z.className,{selected:Z.selected,selectable:K,parent:T,draggable:W,dragging:$}]),ref:J,style:{zIndex:H.z,transform:"translate(".concat(en.x,"px,").concat(en.y,"px)"),pointerEvents:eo?"all":"none",visibility:G?"visible":"hidden",...Z.style,...et},"data-id":w,"data-testid":"rf__node-".concat(w),onMouseEnter:x?e=>x(e,{...H.userNode}):void 0,onMouseMove:C?e=>C(e,{...H.userNode}):void 0,onMouseLeave:E?e=>E(e,{...H.userNode}):void 0,onContextMenu:k?e=>k(e,{...H.userNode}):void 0,onClick:e=>{let{selectNodesOnDrag:t,nodeDragThreshold:n}=U.getState();K&&(!t||!W||n>0)&&eh({id:w,store:U,nodeRef:J}),S&&S(e,{...H.userNode})},onDoubleClick:N?e=>N(e,{...H.userNode}):void 0,onKeyDown:Y?e=>{!(0,a.s$)(e.nativeEvent)&&!R&&(a.wQ.includes(e.key)&&K?eh({id:w,store:U,unselect:"Escape"===e.key,nodeRef:J}):W&&Z.selected&&Object.prototype.hasOwnProperty.call(eN,e.key)&&(U.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~en.x,", y: ").concat(~~en.y)}),q({direction:eN[e.key],factor:e.shiftKey?4:1})))}:void 0,tabIndex:Y?0:void 0,role:Y?"button":void 0,"aria-describedby":R?void 0:"".concat(b,"-").concat(A),"aria-label":Z.ariaLabel,children:(0,r.jsx)(eS,{value:w,children:(0,r.jsx)(X,{id:w,data:Z.data,type:F,positionAbsoluteX:en.x,positionAbsoluteY:en.y,selected:Z.selected,selectable:K,draggable:W,deletable:null===(t=Z.deletable)||void 0===t||t,isConnectable:Q,sourcePosition:Z.sourcePosition,targetPosition:Z.targetPosition,dragging:$,dragHandle:Z.dragHandle,zIndex:H.z,parentId:Z.parentId,...ee})})})}let eL=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function eB(e){var t;let{nodesDraggable:n,nodesConnectable:o,nodesFocusable:l,elementsSelectable:i,onError:a}=v(eL,c.X),d=(t=e.onlyRenderVisibleElements,v((0,s.useCallback)(eR(t),[t]),c.X)),u=function(){let e=v(eA),[t]=(0,s.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,s.useEffect)(()=>()=>{null==t||t.disconnect()},[t]),t}();return(0,r.jsx)("div",{className:"react-flow__nodes",style:es,children:d.map(t=>(0,r.jsx)(ez,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:n,nodesConnectable:o,nodesFocusable:l,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},t))})}eB.displayName="NodeRenderer";let eV=(0,s.memo)(eB),eZ={[a.QZ.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,r.jsx)("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[a.QZ.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,r.jsx)("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},eH=e=>{let{id:t,type:n,color:o,width:l=12.5,height:i=12.5,markerUnits:d="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"}=e,g=function(e){let t=h();return(0,s.useMemo)(()=>{if(!Object.prototype.hasOwnProperty.call(eZ,e)){var n,o;return null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",a.Qj.error009(e)),null}return eZ[e]},[e])}(n);return g?(0,r.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(l),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:d,orient:u,refX:"0",refY:"0",children:(0,r.jsx)(g,{color:o,strokeWidth:c})}):null},eT=e=>{let{defaultColor:t,rfId:n}=e,o=v(e=>e.edges),l=v(e=>e.defaultEdgeOptions),i=(0,s.useMemo)(()=>(0,a.n3)(o,{id:n,defaultColor:t,defaultMarkerStart:null==l?void 0:l.markerStart,defaultMarkerEnd:null==l?void 0:l.markerEnd}),[o,l,n,t]);return i.length?(0,r.jsx)("svg",{className:"react-flow__marker",children:(0,r.jsx)("defs",{children:i.map(e=>(0,r.jsx)(eH,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};eT.displayName="MarkerDefinitions";var eF=(0,s.memo)(eT);function eX(e){let{x:t,y:n,label:o,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:d={},labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:g,className:f,...p}=e,[v,h]=(0,s.useState)({x:1,y:0,width:0,height:0}),m=(0,i.Z)(["react-flow__edge-textwrapper",f]),y=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if(y.current){let e=y.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}},[o]),void 0!==o&&o)?(0,r.jsxs)("g",{transform:"translate(".concat(t-v.width/2," ").concat(n-v.height/2,")"),className:m,visibility:v.width?"visible":"hidden",...p,children:[a&&(0,r.jsx)("rect",{width:v.width+2*c[0],x:-c[0],y:-c[1],height:v.height+2*c[1],className:"react-flow__edge-textbg",style:d,rx:u,ry:u}),(0,r.jsx)("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:y,style:l,children:o}),g]}):null}eX.displayName="EdgeText";let eW=(0,s.memo)(eX);function eK(e){let{id:t,path:n,labelX:o,labelY:l,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:f,style:p,markerEnd:v,markerStart:h,className:m,interactionWidth:y=20}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{id:t,style:p,d:n,fill:"none",className:(0,i.Z)(["react-flow__edge-path",m]),markerEnd:v,markerStart:h}),y&&(0,r.jsx)("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),s&&(0,a.kE)(o)&&(0,a.kE)(l)?(0,r.jsx)(eW,{x:o,y:l,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:f}):null]})}function eQ(e){let{pos:t,x1:n,y1:o,x2:l,y2:r}=e;return t===a.Ly.Left||t===a.Ly.Right?[.5*(n+l),o]:[n,.5*(o+r)]}function eY(e){let{sourceX:t,sourceY:n,sourcePosition:o=a.Ly.Bottom,targetX:l,targetY:r,targetPosition:i=a.Ly.Top}=e,[s,d]=eQ({pos:o,x1:t,y1:n,x2:l,y2:r}),[c,u]=eQ({pos:i,x1:l,y1:r,x2:t,y2:n}),[g,f,p,v]=(0,a.lM)({sourceX:t,sourceY:n,targetX:l,targetY:r,sourceControlX:s,sourceControlY:d,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(d," ").concat(c,",").concat(u," ").concat(l,",").concat(r),g,f,p,v]}function eU(e){return(0,s.memo)(t=>{let{id:n,sourceX:o,sourceY:l,targetX:i,targetY:s,sourcePosition:d=a.Ly.Bottom,targetPosition:c=a.Ly.Top,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:b,interactionWidth:w}=t,[S,x,C]=eY({sourceX:o,sourceY:l,sourcePosition:d,targetX:i,targetY:s,targetPosition:c}),E=e.isInternal?void 0:n;return(0,r.jsx)(eK,{id:E,path:S,labelX:x,labelY:C,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:b,interactionWidth:w})})}let eG=eU({isInternal:!1}),eJ=eU({isInternal:!0});function e$(e){return(0,s.memo)(t=>{let{id:n,sourceX:o,sourceY:l,targetX:i,targetY:s,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:v,sourcePosition:h=a.Ly.Bottom,targetPosition:m=a.Ly.Top,markerEnd:y,markerStart:b,pathOptions:w,interactionWidth:S}=t,[x,C,E]=(0,a.OW)({sourceX:o,sourceY:l,sourcePosition:h,targetX:i,targetY:s,targetPosition:m,borderRadius:null==w?void 0:w.borderRadius,offset:null==w?void 0:w.offset}),k=e.isInternal?void 0:n;return(0,r.jsx)(eK,{id:k,path:x,labelX:C,labelY:E,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:y,markerStart:b,interactionWidth:S})})}eG.displayName="SimpleBezierEdge",eJ.displayName="SimpleBezierEdgeInternal";let eq=e$({isInternal:!1}),e0=e$({isInternal:!0});function e1(e){return(0,s.memo)(t=>{var n;let{id:o,...l}=t,i=e.isInternal?void 0:o;return(0,r.jsx)(eq,{...l,id:i,pathOptions:(0,s.useMemo)(()=>{var e;return{borderRadius:0,offset:null===(e=l.pathOptions)||void 0===e?void 0:e.offset}},[null===(n=l.pathOptions)||void 0===n?void 0:n.offset])})})}eq.displayName="SmoothStepEdge",e0.displayName="SmoothStepEdgeInternal";let e3=e1({isInternal:!1}),e2=e1({isInternal:!0});function e5(e){return(0,s.memo)(t=>{let{id:n,sourceX:o,sourceY:l,targetX:i,targetY:s,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:h,markerStart:m,interactionWidth:y}=t,[b,w,S]=(0,a.Hm)({sourceX:o,sourceY:l,targetX:i,targetY:s}),x=e.isInternal?void 0:n;return(0,r.jsx)(eK,{id:x,path:b,labelX:w,labelY:S,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:v,markerEnd:h,markerStart:m,interactionWidth:y})})}e3.displayName="StepEdge",e2.displayName="StepEdgeInternal";let e4=e5({isInternal:!1}),e6=e5({isInternal:!0});function e7(e){return(0,s.memo)(t=>{let{id:n,sourceX:o,sourceY:l,targetX:i,targetY:s,sourcePosition:d=a.Ly.Bottom,targetPosition:c=a.Ly.Top,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:b,pathOptions:w,interactionWidth:S}=t,[x,C,E]=(0,a.OQ)({sourceX:o,sourceY:l,sourcePosition:d,targetX:i,targetY:s,targetPosition:c,curvature:null==w?void 0:w.curvature}),k=e.isInternal?void 0:n;return(0,r.jsx)(eK,{id:k,path:x,labelX:C,labelY:E,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:b,interactionWidth:S})})}e4.displayName="StraightEdge",e6.displayName="StraightEdgeInternal";let e8=e7({isInternal:!1}),e9=e7({isInternal:!0});e8.displayName="BezierEdge",e9.displayName="BezierEdgeInternal";let te={default:e9,straight:e6,step:e2,smoothstep:e0,simplebezier:eJ},tt={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},tn=(e,t,n)=>n===a.Ly.Left?e-t:n===a.Ly.Right?e+t:e,to=(e,t,n)=>n===a.Ly.Top?e-t:n===a.Ly.Bottom?e+t:e,tl="react-flow__edgeupdater";function tr(e){let{position:t,centerX:n,centerY:o,radius:l=10,onMouseDown:a,onMouseEnter:s,onMouseOut:d,type:c}=e;return(0,r.jsx)("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:d,className:(0,i.Z)([tl,"".concat(tl,"-").concat(c)]),cx:tn(n,l,t),cy:to(o,l,t),r:l,stroke:"transparent",fill:"transparent"})}function ti(e){let{isReconnectable:t,reconnectRadius:n,edge:o,targetHandleId:l,sourceHandleId:i,sourceX:s,sourceY:d,targetX:c,targetY:u,sourcePosition:g,targetPosition:f,onReconnect:p,onReconnectStart:v,onReconnectEnd:m,setReconnecting:y,setUpdateHover:b}=e,w=h(),S=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:n,domNode:r,isValidConnection:s,connectionMode:d,connectionRadius:c,lib:u,onConnectStart:g,onConnectEnd:f,cancelConnection:h,nodeLookup:b,rfId:S,panBy:x,updateConnection:C}=w.getState(),E=t?o.target:o.source,k=t?"target":"source";y(!0),null==v||v(e,o,k),a.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:d,connectionRadius:c,domNode:r,handleId:(t?l:i)||null,nodeId:E,nodeLookup:b,isTarget:t,edgeUpdaterType:k,lib:u,flowId:S,cancelConnection:h,panBy:x,isValidConnection:s,onConnect:e=>null==p?void 0:p(o,e),onConnectStart:g,onConnectEnd:f,onReconnectEnd:(e,t)=>{y(!1),null==m||m(e,o,k,t)},updateConnection:C,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},x=()=>b(!0),C=()=>b(!1);return(0,r.jsxs)(r.Fragment,{children:[("source"===t||!0===t)&&(0,r.jsx)(tr,{position:g,centerX:s,centerY:d,radius:n,onMouseDown:e=>S(e,!0),onMouseEnter:x,onMouseOut:C,type:"source"}),("target"===t||!0===t)&&(0,r.jsx)(tr,{position:f,centerX:c,centerY:u,radius:n,onMouseDown:e=>S(e,!1),onMouseEnter:x,onMouseOut:C,type:"target"})]})}function ta(e){var t;let{id:n,edgesFocusable:o,edgesReconnectable:l,elementsSelectable:d,onClick:u,onDoubleClick:g,onContextMenu:f,onMouseEnter:p,onMouseMove:m,onMouseLeave:y,reconnectRadius:b,onReconnect:S,onReconnectStart:x,onReconnectEnd:C,rfId:E,edgeTypes:k,noPanClassName:N,onError:M,disableKeyboardA11y:j}=e,P=v(e=>e.edgeLookup.get(n)),D=v(e=>e.defaultEdgeOptions),_=(P=D?{...D,...P}:P).type||"default",I=(null==k?void 0:k[_])||te[_];void 0===I&&(null==M||M("011",a.Qj.error011(_)),_="default",I=te.default);let O=!!(P.focusable||o&&void 0===P.focusable),R=void 0!==S&&(P.reconnectable||l&&void 0===P.reconnectable),A=!!(P.selectable||d&&void 0===P.selectable),z=(0,s.useRef)(null),[L,B]=(0,s.useState)(!1),[V,Z]=(0,s.useState)(!1),H=h(),{zIndex:T,sourceX:F,sourceY:X,targetX:W,targetY:K,sourcePosition:Q,targetPosition:Y}=v((0,s.useCallback)(e=>{let t=e.nodeLookup.get(P.source),o=e.nodeLookup.get(P.target);if(!t||!o)return{zIndex:P.zIndex,...tt};let l=(0,a.JU)({id:n,sourceNode:t,targetNode:o,sourceHandle:P.sourceHandle||null,targetHandle:P.targetHandle||null,connectionMode:e.connectionMode,onError:M});return{zIndex:(0,a.xx)({selected:P.selected,zIndex:P.zIndex,sourceNode:t,targetNode:o,elevateOnSelect:e.elevateEdgesOnSelect}),...l||tt}},[P.source,P.target,P.sourceHandle,P.targetHandle,P.selected,P.zIndex]),c.X),U=(0,s.useMemo)(()=>P.markerStart?"url('#".concat((0,a.dW)(P.markerStart,E),"')"):void 0,[P.markerStart,E]),G=(0,s.useMemo)(()=>P.markerEnd?"url('#".concat((0,a.dW)(P.markerEnd,E),"')"):void 0,[P.markerEnd,E]);if(P.hidden||null===F||null===X||null===W||null===K)return null;let J=g?e=>{g(e,{...P})}:void 0,$=f?e=>{f(e,{...P})}:void 0,q=p?e=>{p(e,{...P})}:void 0,ee=m?e=>{m(e,{...P})}:void 0,et=y?e=>{y(e,{...P})}:void 0;return(0,r.jsx)("svg",{style:{zIndex:T},children:(0,r.jsxs)("g",{className:(0,i.Z)(["react-flow__edge","react-flow__edge-".concat(_),P.className,N,{selected:P.selected,animated:P.animated,inactive:!A&&!u,updating:L,selectable:A}]),onClick:e=>{let{addSelectedEdges:t,unselectNodesAndEdges:o,multiSelectionActive:l}=H.getState();if(A){if(H.setState({nodesSelectionActive:!1}),P.selected&&l){var r;o({nodes:[],edges:[P]}),null===(r=z.current)||void 0===r||r.blur()}else t([n])}u&&u(e,P)},onDoubleClick:J,onContextMenu:$,onMouseEnter:q,onMouseMove:ee,onMouseLeave:et,onKeyDown:O?e=>{if(!j&&a.wQ.includes(e.key)&&A){let{unselectNodesAndEdges:o,addSelectedEdges:l}=H.getState();if("Escape"===e.key){var t;null===(t=z.current)||void 0===t||t.blur(),o({edges:[P]})}else l([n])}}:void 0,tabIndex:O?0:void 0,role:O?"button":"img","data-id":n,"data-testid":"rf__edge-".concat(n),"aria-label":null===P.ariaLabel?void 0:P.ariaLabel||"Edge from ".concat(P.source," to ").concat(P.target),"aria-describedby":O?"".concat(w,"-").concat(E):void 0,ref:z,children:[!V&&(0,r.jsx)(I,{id:n,source:P.source,target:P.target,type:P.type,selected:P.selected,animated:P.animated,selectable:A,deletable:null===(t=P.deletable)||void 0===t||t,label:P.label,labelStyle:P.labelStyle,labelShowBg:P.labelShowBg,labelBgStyle:P.labelBgStyle,labelBgPadding:P.labelBgPadding,labelBgBorderRadius:P.labelBgBorderRadius,sourceX:F,sourceY:X,targetX:W,targetY:K,sourcePosition:Q,targetPosition:Y,data:P.data,style:P.style,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle,markerStart:U,markerEnd:G,pathOptions:"pathOptions"in P?P.pathOptions:void 0,interactionWidth:P.interactionWidth}),R&&(0,r.jsx)(ti,{edge:P,isReconnectable:R,reconnectRadius:b,onReconnect:S,onReconnectStart:x,onReconnectEnd:C,sourceX:F,sourceY:X,targetX:W,targetY:K,sourcePosition:Q,targetPosition:Y,setUpdateHover:B,setReconnecting:Z,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle})]})})}let ts=e=>({width:e.width,height:e.height,edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function td(e){let{defaultMarkerColor:t,onlyRenderVisibleElements:n,rfId:o,edgeTypes:l,noPanClassName:i,onReconnect:d,onEdgeContextMenu:u,onEdgeMouseEnter:g,onEdgeMouseMove:f,onEdgeMouseLeave:p,onEdgeClick:h,reconnectRadius:m,onEdgeDoubleClick:y,onReconnectStart:b,onReconnectEnd:w,disableKeyboardA11y:S}=e,{edgesFocusable:x,edgesReconnectable:C,elementsSelectable:E,onError:k}=v(ts,c.X),N=v((0,s.useCallback)(e=>{if(!n)return e.edges.map(e=>e.id);let t=[];if(e.width&&e.height)for(let n of e.edges){let o=e.nodeLookup.get(n.source),l=e.nodeLookup.get(n.target);o&&l&&(0,a.RY)({sourceNode:o,targetNode:l,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[n]),c.X);return(0,r.jsxs)("div",{className:"react-flow__edges",children:[(0,r.jsx)(eF,{defaultColor:t,rfId:o}),N.map(e=>(0,r.jsx)(ta,{id:e,edgesFocusable:x,edgesReconnectable:C,elementsSelectable:E,noPanClassName:i,onReconnect:d,onContextMenu:u,onMouseEnter:g,onMouseMove:f,onMouseLeave:p,onClick:h,reconnectRadius:m,onDoubleClick:y,onReconnectStart:b,onReconnectEnd:w,rfId:o,onError:k,edgeTypes:l,disableKeyboardA11y:S},e))]})}td.displayName="EdgeRenderer";let tc=(0,s.memo)(td),tu=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function tg(e){let{children:t}=e,n=v(tu);return(0,r.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}let tf=e=>{var t;return null===(t=e.panZoom)||void 0===t?void 0:t.syncViewport};function tp(e){return e.connection.inProgress?{...e.connection,to:(0,a.m)(e.connection.to,e.transform)}:{...e.connection}}let tv=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function th(e){let{containerStyle:t,style:n,type:o,component:l}=e,{nodesConnectable:s,width:d,height:u,isValid:g,inProgress:f}=v(tv,c.X);return d&&s&&f?(0,r.jsx)("svg",{style:t,width:d,height:u,className:"react-flow__connectionline react-flow__container",children:(0,r.jsx)("g",{className:(0,i.Z)(["react-flow__connection",(0,a.Zp)(g)]),children:(0,r.jsx)(tm,{style:n,type:o,CustomComponent:l,isValid:g})})}):null}let tm=e=>{let{style:t,type:n=a.t8.Bezier,CustomComponent:o,isValid:l}=e,{inProgress:i,from:s,fromNode:d,fromHandle:u,fromPosition:g,to:f,toNode:p,toHandle:h,toPosition:m}=v(tp,c.X);if(!i)return;if(o)return(0,r.jsx)(o,{connectionLineType:n,connectionLineStyle:t,fromNode:d,fromHandle:u,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:g,toPosition:m,connectionStatus:(0,a.Zp)(l),toNode:p,toHandle:h});let y="",b={sourceX:s.x,sourceY:s.y,sourcePosition:g,targetX:f.x,targetY:f.y,targetPosition:m};switch(n){case a.t8.Bezier:[y]=(0,a.OQ)(b);break;case a.t8.SimpleBezier:[y]=eY(b);break;case a.t8.Step:[y]=(0,a.OW)({...b,borderRadius:0});break;case a.t8.SmoothStep:[y]=(0,a.OW)(b);break;default:[y]=(0,a.Hm)(b)}return(0,r.jsx)("path",{d:y,fill:"none",className:"react-flow__connection-path",style:t})};tm.displayName="ConnectionLine";let ty={};function tb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ty;(0,s.useRef)(e),h(),(0,s.useEffect)(()=>{},[e])}function tw(e){let{nodeTypes:t,edgeTypes:n,onInit:o,onNodeClick:l,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:d,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:x,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:j,deleteKeyCode:P,onlyRenderVisibleElements:D,elementsSelectable:_,defaultViewport:I,translateExtent:O,minZoom:R,maxZoom:A,preventScrolling:z,defaultMarkerColor:L,zoomOnScroll:B,zoomOnPinch:V,panOnScroll:Z,panOnScrollSpeed:H,panOnScrollMode:T,zoomOnDoubleClick:F,panOnDrag:X,onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Q,onPaneMouseLeave:Y,onPaneScroll:U,onPaneContextMenu:G,paneClickDistance:J,nodeClickDistance:$,onEdgeContextMenu:q,onEdgeMouseEnter:ee,onEdgeMouseMove:et,onEdgeMouseLeave:en,reconnectRadius:eo,onReconnect:er,onReconnectStart:ei,onReconnectEnd:ea,noDragClassName:es,noWheelClassName:ed,noPanClassName:ec,disableKeyboardA11y:eu,nodeExtent:eg,rfId:ef,viewport:ep,onViewportChange:ev}=e;return tb(t),tb(n),h(),(0,s.useRef)(!1),(0,s.useEffect)(()=>{},[]),!function(e){let t=el(),n=(0,s.useRef)(!1);(0,s.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(o),!function(e){let t=v(tf),n=h();(0,s.useEffect)(()=>{e&&(null==t||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ep),(0,r.jsx)(eO,{onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Q,onPaneMouseLeave:Y,onPaneContextMenu:G,onPaneScroll:U,paneClickDistance:J,deleteKeyCode:P,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:j,elementsSelectable:_,zoomOnScroll:B,zoomOnPinch:V,zoomOnDoubleClick:F,panOnScroll:Z,panOnScrollSpeed:H,panOnScrollMode:T,panOnDrag:X,defaultViewport:I,translateExtent:O,minZoom:R,maxZoom:A,onSelectionContextMenu:p,preventScrolling:z,noDragClassName:es,noWheelClassName:ed,noPanClassName:ec,disableKeyboardA11y:eu,onViewportChange:ev,isControlledViewport:!!ep,children:(0,r.jsxs)(tg,{children:[(0,r.jsx)(tc,{edgeTypes:n,onEdgeClick:i,onEdgeDoubleClick:d,onReconnect:er,onReconnectStart:ei,onReconnectEnd:ea,onlyRenderVisibleElements:D,onEdgeContextMenu:q,onEdgeMouseEnter:ee,onEdgeMouseMove:et,onEdgeMouseLeave:en,reconnectRadius:eo,defaultMarkerColor:L,noPanClassName:ec,disableKeyboardA11y:eu,rfId:ef}),(0,r.jsx)(th,{style:w,type:b,component:S,containerStyle:x}),(0,r.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,r.jsx)(eV,{nodeTypes:t,onNodeClick:l,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:f,nodeClickDistance:$,onlyRenderVisibleElements:D,noPanClassName:ec,noDragClassName:es,disableKeyboardA11y:eu,nodeExtent:eg,rfId:ef}),(0,r.jsx)("div",{className:"react-flow__viewport-portal"})]})})}tw.displayName="GraphView";let tS=(0,s.memo)(tw),tx=function(){var e,t;let{nodes:n,edges:o,defaultNodes:l,defaultEdges:r,width:i,height:s,fitView:d,nodeOrigin:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=new Map,g=new Map,f=new Map,p=new Map,v=null!==(e=null!=r?r:o)&&void 0!==e?e:[],h=null!==(t=null!=l?l:n)&&void 0!==t?t:[],m=null!=c?c:[0,0];(0,a.be)(f,p,v),(0,a.yF)(h,u,g,{nodeOrigin:m,elevateNodesOnSelect:!1});let y=[0,0,1];if(d&&i&&s){let e=(0,a.W0)(u,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),{x:t,y:n,zoom:o}=(0,a.$i)(e,i,s,.5,2,.1);y=[t,n,o]}return{rfId:"1",width:0,height:0,transform:y,nodes:h,nodeLookup:u,parentLookup:g,edges:v,edgeLookup:p,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==l,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:a.k5,nodeExtent:a.k5,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:a.jD.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...a.Ky},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:a.Ki,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},tC=e=>{let{nodes:t,edges:n,defaultNodes:o,defaultEdges:l,width:r,height:i,fitView:s,nodeOrigin:c}=e;return(0,d.F)((e,d)=>({...tx({nodes:t,edges:n,width:r,height:i,fitView:s,nodeOrigin:c,defaultNodes:o,defaultEdges:l}),setNodes:t=>{let{nodeLookup:n,parentLookup:o,nodeOrigin:l,elevateNodesOnSelect:r}=d();(0,a.yF)(t,n,o,{nodeOrigin:l,elevateNodesOnSelect:r,checkEquality:!0}),e({nodes:t})},setEdges:t=>{let{connectionLookup:n,edgeLookup:o}=d();(0,a.be)(n,o,t),e({edges:t})},setDefaultNodesAndEdges:(t,n)=>{if(t){let{setNodes:n}=d();n(t),e({hasDefaultNodes:!0})}if(n){let{setEdges:t}=d();t(n),e({hasDefaultEdges:!0})}},updateNodeInternals:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{triggerFitView:!0},{triggerNodeChanges:o,nodeLookup:l,parentLookup:r,fitViewOnInit:i,fitViewDone:s,fitViewOnInitOptions:c,domNode:u,nodeOrigin:g,debug:f,fitViewSync:p}=d(),{changes:v,updatedInternals:h}=(0,a.B1)(t,l,r,u,g);if(h){if((0,a.VV)(l,r,{nodeOrigin:g}),n.triggerFitView){let t=s;!s&&i&&(t=p({...c,nodes:null==c?void 0:c.nodes})),e({fitViewDone:t})}else e({});(null==v?void 0:v.length)>0&&(f&&console.log("React Flow: trigger node changes",v),null==o||o(v))}},updateNodePositions:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];for(let[l,r]of e){let e={id:l,type:"position",position:r.position,dragging:t};(null==r?void 0:r.expandParent)&&(null==r?void 0:r.parentId)&&e.position&&(n.push({id:l,parentId:r.parentId,rect:{...r.internals.positionAbsolute,width:r.measured.width,height:r.measured.height}}),e.position.x=Math.max(0,e.position.x),e.position.y=Math.max(0,e.position.y)),o.push(e)}if(n.length>0){let{nodeLookup:e,parentLookup:t,nodeOrigin:l}=d(),r=(0,a.so)(n,e,t,l);o.push(...r)}d().triggerNodeChanges(o)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:o,hasDefaultNodes:l,debug:r}=d();(null==e?void 0:e.length)&&(l&&n(W(e,o)),r&&console.log("React Flow: trigger node changes",e),null==t||t(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:o,hasDefaultEdges:l,debug:r}=d();(null==e?void 0:e.length)&&(l&&n(W(e,o)),r&&console.log("React Flow: trigger edge changes",e),null==t||t(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:l,triggerEdgeChanges:r}=d();if(t){l(e.map(e=>K(e,!0)));return}l(Q(o,new Set([...e]),!0)),r(Q(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:l,triggerEdgeChanges:r}=d();if(t){r(e.map(e=>K(e,!0)));return}r(Q(n,new Set([...e]))),l(Q(o,new Set,!0))},unselectNodesAndEdges:function(){let{nodes:e,edges:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:n,nodes:o,triggerNodeChanges:l,triggerEdgeChanges:r}=d(),i=(e||o).map(e=>(e.selected=!1,K(e.id,!1))),a=(t||n).map(e=>K(e.id,!1));l(i),r(a)},setMinZoom:t=>{let{panZoom:n,maxZoom:o}=d();null==n||n.setScaleExtent([t,o]),e({minZoom:t})},setMaxZoom:t=>{let{panZoom:n,minZoom:o}=d();null==n||n.setScaleExtent([o,t]),e({maxZoom:t})},setTranslateExtent:t=>{var n;null===(n=d().panZoom)||void 0===n||n.setTranslateExtent(t),e({translateExtent:t})},setPaneClickDistance:e=>{var t;null===(t=d().panZoom)||void 0===t||t.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:o}=d(),l=t.reduce((e,t)=>t.selected?[...e,K(t.id,!1)]:e,[]),r=e.reduce((e,t)=>t.selected?[...e,K(t.id,!1)]:e,[]);n(l),o(r)},setNodeExtent:t=>{let{nodeLookup:n}=d();for(let[,e]of n){let o=(0,a.s9)(e.internals.positionAbsolute,t);n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:o}})}e({nodeExtent:t})},panBy:e=>{let{transform:t,width:n,height:o,panZoom:l,translateExtent:r}=d();return(0,a.hO)({delta:e,panZoom:l,transform:t,translateExtent:r,width:n,height:o})},fitView:e=>{let{panZoom:t,width:n,height:o,minZoom:l,maxZoom:r,nodeLookup:i}=d();if(!t)return Promise.resolve(!1);let s=(0,a.J6)(i,e);return(0,a.Qu)({nodes:s,width:n,height:o,panZoom:t,minZoom:l,maxZoom:r},e)},fitViewSync:e=>{let{panZoom:t,width:n,height:o,minZoom:l,maxZoom:r,nodeLookup:i}=d();if(!t)return!1;let s=(0,a.J6)(i,e);return(0,a.Qu)({nodes:s,width:n,height:o,panZoom:t,minZoom:l,maxZoom:r},e),s.size>0},cancelConnection:()=>{e({connection:{...a.Ky}})},updateConnection:t=>{e({connection:t})},reset:()=>e({...tx()})}),Object.is)};function tE(e){let{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:l,initialWidth:i,initialHeight:a,fitView:d,nodeOrigin:c,children:u}=e,[g]=(0,s.useState)(()=>tC({nodes:t,edges:n,defaultNodes:o,defaultEdges:l,width:i,height:a,fitView:d,nodeOrigin:c}));return(0,r.jsx)(f,{value:g,children:(0,r.jsx)(en,{children:u})})}function tk(e){let{children:t,nodes:n,edges:o,defaultNodes:l,defaultEdges:i,width:a,height:d,fitView:c,nodeOrigin:u}=e;return(0,s.useContext)(g)?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(tE,{initialNodes:n,initialEdges:o,defaultNodes:l,defaultEdges:i,initialWidth:a,initialHeight:d,fitView:c,nodeOrigin:u,children:t})}let tN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var tM=$(function(e,t){let{nodes:n,edges:o,defaultNodes:l,defaultEdges:d,className:c,nodeTypes:u,edgeTypes:g,onNodeClick:f,onEdgeClick:p,onInit:v,onMove:h,onMoveStart:m,onMoveEnd:y,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:x,onClickConnectEnd:E,onNodeMouseEnter:k,onNodeMouseMove:M,onNodeMouseLeave:j,onNodeContextMenu:P,onNodeDoubleClick:D,onNodeDragStart:_,onNodeDrag:A,onNodeDragStop:z,onNodesDelete:L,onEdgesDelete:Z,onDelete:H,onSelectionChange:T,onSelectionDragStart:F,onSelectionDrag:X,onSelectionDragStop:W,onSelectionContextMenu:K,onSelectionStart:Q,onSelectionEnd:Y,onBeforeDelete:U,connectionMode:G,connectionLineType:J=a.t8.Bezier,connectionLineStyle:$,connectionLineComponent:q,connectionLineContainerStyle:ee,deleteKeyCode:et="Backspace",selectionKeyCode:en="Shift",selectionOnDrag:eo=!1,selectionMode:el=a.oW.Full,panActivationKeyCode:er="Space",multiSelectionKeyCode:ei=(0,a.Q5)()?"Meta":"Control",zoomActivationKeyCode:ea=(0,a.Q5)()?"Meta":"Control",snapToGrid:es,snapGrid:ed,onlyRenderVisibleElements:ec=!1,selectNodesOnDrag:eu,nodesDraggable:eg,nodesConnectable:ef,nodesFocusable:ep,nodeOrigin:ev=O,edgesFocusable:eh,edgesReconnectable:em,elementsSelectable:ey=!0,defaultViewport:eb=R,minZoom:ew=.5,maxZoom:eS=2,translateExtent:ex=a.k5,preventScrolling:eC=!0,nodeExtent:eE,defaultMarkerColor:ek="#b1b1b7",zoomOnScroll:eN=!0,zoomOnPinch:eM=!0,panOnScroll:ej=!1,panOnScrollSpeed:eP=.5,panOnScrollMode:eD=a.IY.Free,zoomOnDoubleClick:e_=!0,panOnDrag:eI=!0,onPaneClick:eO,onPaneMouseEnter:eR,onPaneMouseMove:eA,onPaneMouseLeave:ez,onPaneScroll:eL,onPaneContextMenu:eB,paneClickDistance:eV=0,nodeClickDistance:eZ=0,children:eH,onReconnect:eT,onReconnectStart:eF,onReconnectEnd:eX,onEdgeContextMenu:eW,onEdgeDoubleClick:eK,onEdgeMouseEnter:eQ,onEdgeMouseMove:eY,onEdgeMouseLeave:eU,reconnectRadius:eG=10,onNodesChange:eJ,onEdgesChange:e$,noDragClassName:eq="nodrag",noWheelClassName:e0="nowheel",noPanClassName:e1="nopan",fitView:e3,fitViewOptions:e2,connectOnClick:e5,attributionPosition:e4,proOptions:e6,defaultEdgeOptions:e7,elevateNodesOnSelect:e8,elevateEdgesOnSelect:e9,disableKeyboardA11y:te=!1,autoPanOnConnect:tt,autoPanOnNodeDrag:tn,autoPanSpeed:to,connectionRadius:tl,isValidConnection:tr,onError:ti,style:ta,id:ts,nodeDragThreshold:td,viewport:tc,onViewportChange:tu,width:tg,height:tf,colorMode:tp="light",debug:tv,...th}=e,tm=ts||"1",ty=function(e){var t;let[n,o]=(0,s.useState)("system"===e?null:e);return(0,s.useEffect)(()=>{if("system"!==e){o(e);return}let t=V(),n=()=>o((null==t?void 0:t.matches)?"dark":"light");return n(),null==t||t.addEventListener("change",n),()=>{null==t||t.removeEventListener("change",n)}},[e]),null!==n?n:(null===(t=V())||void 0===t?void 0:t.matches)?"dark":"light"}(tp);return(0,r.jsx)("div",{...th,style:{...ta,...tN},ref:t,className:(0,i.Z)(["react-flow",c,ty]),"data-testid":"rf__wrapper",id:ts,children:(0,r.jsxs)(tk,{nodes:n,edges:o,width:tg,height:tf,fitView:e3,nodeOrigin:ev,children:[(0,r.jsx)(tS,{onInit:v,onNodeClick:f,onEdgeClick:p,onNodeMouseEnter:k,onNodeMouseMove:M,onNodeMouseLeave:j,onNodeContextMenu:P,onNodeDoubleClick:D,nodeTypes:u,edgeTypes:g,connectionLineType:J,connectionLineStyle:$,connectionLineComponent:q,connectionLineContainerStyle:ee,selectionKeyCode:en,selectionOnDrag:eo,selectionMode:el,deleteKeyCode:et,multiSelectionKeyCode:ei,panActivationKeyCode:er,zoomActivationKeyCode:ea,onlyRenderVisibleElements:ec,defaultViewport:eb,translateExtent:ex,minZoom:ew,maxZoom:eS,preventScrolling:eC,zoomOnScroll:eN,zoomOnPinch:eM,zoomOnDoubleClick:e_,panOnScroll:ej,panOnScrollSpeed:eP,panOnScrollMode:eD,panOnDrag:eI,onPaneClick:eO,onPaneMouseEnter:eR,onPaneMouseMove:eA,onPaneMouseLeave:ez,onPaneScroll:eL,onPaneContextMenu:eB,paneClickDistance:eV,nodeClickDistance:eZ,onSelectionContextMenu:K,onSelectionStart:Q,onSelectionEnd:Y,onReconnect:eT,onReconnectStart:eF,onReconnectEnd:eX,onEdgeContextMenu:eW,onEdgeDoubleClick:eK,onEdgeMouseEnter:eQ,onEdgeMouseMove:eY,onEdgeMouseLeave:eU,reconnectRadius:eG,defaultMarkerColor:ek,noDragClassName:eq,noWheelClassName:e0,noPanClassName:e1,rfId:tm,disableKeyboardA11y:te,nodeExtent:eE,viewport:tc,onViewportChange:tu}),(0,r.jsx)(B,{nodes:n,edges:o,defaultNodes:l,defaultEdges:d,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:x,onClickConnectEnd:E,nodesDraggable:eg,nodesConnectable:ef,nodesFocusable:ep,edgesFocusable:eh,edgesReconnectable:em,elementsSelectable:ey,elevateNodesOnSelect:e8,elevateEdgesOnSelect:e9,minZoom:ew,maxZoom:eS,nodeExtent:eE,onNodesChange:eJ,onEdgesChange:e$,snapToGrid:es,snapGrid:ed,connectionMode:G,translateExtent:ex,connectOnClick:e5,defaultEdgeOptions:e7,fitView:e3,fitViewOptions:e2,onNodesDelete:L,onEdgesDelete:Z,onDelete:H,onNodeDragStart:_,onNodeDrag:A,onNodeDragStop:z,onSelectionDrag:X,onSelectionDragStart:F,onSelectionDragStop:W,onMove:h,onMoveStart:m,onMoveEnd:y,noPanClassName:e1,nodeOrigin:ev,rfId:tm,autoPanOnConnect:tt,autoPanOnNodeDrag:tn,autoPanSpeed:to,onError:ti,connectionRadius:tl,isValidConnection:tr,selectNodesOnDrag:eu,nodeDragThreshold:td,onBeforeDelete:U,paneClickDistance:eV,debug:tv}),(0,r.jsx)(I,{onSelectionChange:T}),eH,(0,r.jsx)(N,{proOptions:e6,position:e4}),(0,r.jsx)(C,{rfId:tm,disableKeyboardA11y:te})]})})});function tj(e){let[t,n]=(0,s.useState)(e),o=(0,s.useCallback)(e=>n(t=>W(e,t)),[]);return[t,n,o]}function tP(e){let[t,n]=(0,s.useState)(e),o=(0,s.useCallback)(e=>n(t=>W(e,t)),[]);return[t,n,o]}function tD(e){let{onStart:t,onChange:n,onEnd:o}=e,l=h();(0,s.useEffect)(()=>{l.setState({onViewportChangeStart:t})},[t]),(0,s.useEffect)(()=>{l.setState({onViewportChange:n})},[n]),(0,s.useEffect)(()=>{l.setState({onViewportChangeEnd:o})},[o])}function t_(e){let{dimensions:t,lineWidth:n,variant:o,className:l}=e;return(0,r.jsx)("path",{strokeWidth:n,d:"M".concat(t[0]/2," 0 V").concat(t[1]," M0 ").concat(t[1]/2," H").concat(t[0]),className:(0,i.Z)(["react-flow__background-pattern",o,l])})}function tI(e){let{radius:t,className:n}=e;return(0,r.jsx)("circle",{cx:t,cy:t,r:t,className:(0,i.Z)(["react-flow__background-pattern","dots",n])})}(o=l||(l={})).Lines="lines",o.Dots="dots",o.Cross="cross";let tO={[l.Dots]:1,[l.Lines]:1,[l.Cross]:6},tR=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function tA(e){let{id:t,variant:n=l.Dots,gap:o=20,size:a,lineWidth:d=1,offset:u=0,color:g,bgColor:f,style:p,className:h,patternClassName:m}=e,y=(0,s.useRef)(null),{transform:b,patternId:w}=v(tR,c.X),S=a||tO[n],x=n===l.Dots,C=n===l.Cross,E=Array.isArray(o)?o:[o,o],k=[E[0]*b[2]||1,E[1]*b[2]||1],N=S*b[2],M=Array.isArray(u)?u:[u,u],j=[M[0]*b[2]||1,M[1]*b[2]||1],P="".concat(w).concat(t||"");return(0,r.jsxs)("svg",{className:(0,i.Z)(["react-flow__background",h]),style:{...p,...es,"--xy-background-color-props":f,"--xy-background-pattern-color-props":g},ref:y,"data-testid":"rf__background",children:[(0,r.jsx)("pattern",{id:P,x:b[0]%k[0],y:b[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(j[0],",-").concat(j[1],")"),children:x?(0,r.jsx)(tI,{radius:N/2,className:m}):(0,r.jsx)(t_,{dimensions:C?[N,N]:k,lineWidth:d,variant:n,className:m})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(P,")")})]})}tA.displayName="Background";let tz=(0,s.memo)(tA);function tL(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,r.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tB(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,r.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function tV(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,r.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tZ(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tH(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tT(e){let{children:t,className:n,...o}=e;return(0,r.jsx)("button",{type:"button",className:(0,i.Z)(["react-flow__controls-button",n]),...o,children:t})}let tF=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function tX(e){let{style:t,showZoom:n=!0,showFitView:o=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:d,onFitView:u,onInteractiveChange:g,className:f,children:p,position:m="bottom-left",orientation:y="vertical","aria-label":b="React Flow controls"}=e,w=h(),{isInteractive:S,minZoomReached:x,maxZoomReached:C}=v(tF,c.X),{zoomIn:E,zoomOut:N,fitView:M}=el();return(0,r.jsxs)(k,{className:(0,i.Z)(["react-flow__controls","horizontal"===y?"horizontal":"vertical",f]),position:m,style:t,"data-testid":"rf__controls","aria-label":b,children:[n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tT,{onClick:()=>{E(),null==s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C,children:(0,r.jsx)(tL,{})}),(0,r.jsx)(tT,{onClick:()=>{N(),null==d||d()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x,children:(0,r.jsx)(tB,{})})]}),o&&(0,r.jsx)(tT,{className:"react-flow__controls-fitview",onClick:()=>{M(a),null==u||u()},title:"fit view","aria-label":"fit view",children:(0,r.jsx)(tV,{})}),l&&(0,r.jsx)(tT,{className:"react-flow__controls-interactive",onClick:()=>{w.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),null==g||g(!S)},title:"toggle interactivity","aria-label":"toggle interactivity",children:S?(0,r.jsx)(tH,{}):(0,r.jsx)(tZ,{})}),p]})}tX.displayName="Controls";let tW=(0,s.memo)(tX),tK=e=>{var t;return null===(t=e.domNode)||void 0===t?void 0:t.querySelector(".react-flow__renderer")};function tQ(e){let{children:t}=e,n=v(tK);return n?(0,u.createPortal)(t,n):null}let tY=(e,t)=>(null==e?void 0:e.internals.positionAbsolute.x)!==(null==t?void 0:t.internals.positionAbsolute.x)||(null==e?void 0:e.internals.positionAbsolute.y)!==(null==t?void 0:t.internals.positionAbsolute.y)||(null==e?void 0:e.measured.width)!==(null==t?void 0:t.measured.width)||(null==e?void 0:e.measured.height)!==(null==t?void 0:t.measured.height)||(null==e?void 0:e.selected)!==(null==t?void 0:t.selected)||(null==e?void 0:e.internals.z)!==(null==t?void 0:t.internals.z),tU=(e,t)=>{if(e.size!==t.size)return!1;for(let[n,o]of e)if(tY(o,t.get(n)))return!1;return!0},tG=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2],selectedNodesCount:e.nodes.filter(e=>e.selected).length});function tJ(e){let{nodeId:t,children:n,className:o,style:l,isVisible:d,position:u=a.Ly.Top,offset:g=10,align:f="center",...p}=e,h=ex(),m=v((0,s.useCallback)(e=>(Array.isArray(t)?t:[t||h||""]).reduce((t,n)=>{let o=e.nodeLookup.get(n);return o&&t.set(o.id,o),t},new Map),[t,h]),tU),{x:y,y:b,zoom:w,selectedNodesCount:S}=v(tG,c.X);if(!("boolean"==typeof d?d:1===m.size&&m.values().next().value.selected&&1===S)||!m.size)return null;let x=(0,a.W0)(m),C=Array.from(m.values()),E=Math.max(...C.map(e=>e.internals.z+1)),k={position:"absolute",transform:(0,a.ZJ)(x,{x:y,y:b,zoom:w},u,g,f),zIndex:E,...l};return(0,r.jsx)(tQ,{children:(0,r.jsx)("div",{style:k,className:(0,i.Z)(["react-flow__node-toolbar",o]),...p,"data-id":C.reduce((e,t)=>"".concat(e).concat(t.id," "),"").trim(),children:n})})}}}]);